"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[415],{415:function(e,n,a){a.r(n),a.d(n,{default:function(){return V}});var r=a(59499),t=a(50029),o=a(87794),i=a.n(o),c=a(67294),s=a(41120),l=a(38668),u=a(17812),p=a(96343),f=a(22318),d=a(41749),v=a(43832),m=a(25357),g=a(91594),h=a(2876),b=a(282),x=a(18362),j=a(45207),y=a(9669).default,C={},k=function(e){for(var n=new FormData,a=Object.keys(e),r=0;r<a.length;r++)"files"!=a&&n.append("".concat(a[r]),e[a[r]]);return console.log(n),n};C.guardar=function(){var e=(0,t.Z)(i().mark((function e(n){var a,r,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"content-type":"application/json"}},r=k(n),console.log(r),e.next=6,y.post("".concat("http://137.184.125.192:3000","/electricista/crear"),n,a);case 6:return t=e.sent,e.abrupt("return",t.data);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}();var P=C,w=a(9669).default,O={};O.guardar=function(){var e=(0,t.Z)(i().mark((function e(n){var a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"content-type":"application/json"}},e.next=4,w.post("".concat("http://137.184.125.192:3000","/instalacion/crear"),n,a);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}();var Z=O,N=a(9669).default,_={};_.guardar=function(){var e=(0,t.Z)(i().mark((function e(n){var a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"content-type":"application/json"}},e.next=4,N.post("".concat("http://137.184.125.192:3000","/solicitud/crear"),n,a);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}(),_.asig=function(){var e=(0,t.Z)(i().mark((function e(n){var a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"content-type":"application/json"}},e.next=4,N.put("".concat("http://137.184.125.192:3000","/solicitud/asignarElectricista"),n,a);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}();var S=_,E=a(74420),R=a(85893);function F(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,r)}return a}function I(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?F(Object(a),!0).forEach((function(n){(0,r.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var L=(0,s.Z)((function(e){return{container:{maxWidth:800,margin:"0 auto",padding:e.spacing(3),backgroundColor:"white",borderRadius:16,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",marginTop:e.spacing(3)},title:{marginBottom:e.spacing(2),textAlign:"center"},textField:{marginBottom:e.spacing(2)},submitButton:{backgroundColor:"#4caf50",color:"white","&:hover":{backgroundColor:"#45a049"}},backButton:{marginRight:e.spacing(2)},popover:{padding:e.spacing(2)},formColumn:{flexBasis:"50%",padding:"0 10px"}}})),T=function(e){var n=e.name,a=e.label,r=e.value,t=e.onChange,o=e.info,i=L(),s=(0,c.useState)(null),d=s[0],v=s[1],m=function(){v(null)},g=Boolean(d);return(0,c.useEffect)((function(){var e=function(){g&&m()};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[g]),(0,R.jsxs)(c.Fragment,{children:[(0,R.jsx)("div",{className:i.formColumn,children:(0,R.jsx)(l.Z,{name:n,label:a,variant:"outlined",fullWidth:!0,className:i.textField,value:r,onChange:t,InputProps:{endAdornment:(0,R.jsx)(u.Z,{"aria-label":"Informaci\xf3n","aria-owns":g?"".concat(n,"-popover"):void 0,"aria-haspopup":"true",onClick:function(e){v(e.currentTarget)},children:(0,R.jsx)(x.Z,{})})}})}),(0,R.jsx)(p.ZP,{id:"".concat(n,"-popover"),open:g,anchorEl:d,onClose:m,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},disableScrollLock:!0,children:(0,R.jsx)(f.Z,{className:i.popover,children:o})})]})},A=[{label:"Cliente",color:"#f44336"},{label:"Electricista",color:"#ffc107"},{label:"Datos de Inspecci\xf3n",color:"#4caf50"}],V=function(){var e=L(),n=(0,c.useState)(0),a=n[0],o=n[1],s=(0,c.useState)({name:"",email:"",nit:"",activity:"",phone:"",ncr:""}),l=s[0],u=s[1],p=(0,c.useState)({name:"",email:"",nit:"",activity:"",phone:"",ncr:""}),x=p[0],y=p[1],C=(0,c.useState)({inspectionRequested:"",projectName:"",supplyVoltage:"",requestedLoad:"",numberOfPanels:"",numberOfPlanSheets:"",installationClassification:"",serviceType:"",substationConnection:"",substationCapacity:"",emergencyGeneratorCapacity:"",numberOfLevels:"",numberOfServices:""}),k=C[0],w=C[1],O=(0,c.useRef)(null),N=function(){O.current.show({severity:"success",summary:"Solicitud Creada",detail:"Solicitud creada con exito",life:3e3})},_=function(e){O.current.show({severity:"error",summary:"Fallo Solicitud",detail:e,life:3e3})},F=function(){var e=(0,t.Z)(i().mark((function e(){var n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={act_economica:l.activity,email:l.email,nit:l.nit,constitucion_empresa:l.activity,nrc:l.ncr,razon_social:l.activity,telefono:l.phone,nombre:l.name,files:""},e.next=3,j.Z.guardar(n);case 3:return a=e.sent,console.log(a.data),e.next=7,D(a.data);case 7:if(e.prev=7,!a.ok){e.next=11;break}return N(),e.abrupt("return",a.data);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),_("error al crear cliente");case 16:case"end":return e.stop()}}),e,null,[[7,13]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=(0,t.Z)(i().mark((function e(n){var a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={carnet:x.nit,dui:x.nit,email:x.email,nit:x.nit,nombre:x.name,registro:x.activity,telefono:x.phone},e.next=3,P.guardar(a);case 3:return r=e.sent,console.log("id desde electricista"),console.log(n),console.log(r.data),e.next=9,q(n,r.data);case 9:if(e.prev=9,!r.ok){e.next=13;break}return N(),e.abrupt("return",r);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),_("error al crear electricista");case 18:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(n){return e.apply(this,arguments)}}(),q=function(){var e=(0,t.Z)(i().mark((function e(n,a){var r,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={id:n,electricistaId:a},e.next=3,S.asig(r);case 3:if(t=e.sent,console.log(t),e.prev=5,!t.ok){e.next=9;break}return N(),e.abrupt("return",t);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),_("error al asignar el electricista");case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(n,a){return e.apply(this,arguments)}}(),D=function(){var e=(0,t.Z)(i().mark((function e(n){var a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={clienteId:n,infoFacturacion:{act_economica:l.activity,nit:l.nit,nrc:l.ncr,nombre:l.name,razon_social:l.activity,telefono:l.phone}},e.next=3,S.guardar(a);case 3:return r=e.sent,console.log(r.message),e.next=7,B(r.message);case 7:return e.next=9,V(r.message);case 9:if(e.prev=9,!r.ok){e.next=13;break}return N(),e.abrupt("return",r);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),_("error al crear la solicitud");case 18:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(n){return e.apply(this,arguments)}}(),B=function(){var e=(0,t.Z)(i().mark((function e(n){var a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("en la creacion de instalacion"),console.log(n),a={solicitudId:n,capacidad_subestacion:k.substationCapacity,conexion_subestacion:k.substationConnection,capacidad_generador:k.emergencyGeneratorCapacity,carga_a_solicitar:k.requestedLoad,clasificacion_instalacion:k.installationClassification,nombre_pro:k.projectName,nro_hojas:k.numberOfPlanSheets,nro_niveles:k.numberOfLevels,nro_servicio_a_instalar:k.numberOfServices,nro_transformadores:k.inspectionRequested,nro_tablero:k.numberOfPanels,tension_suministro:k.supplyVoltage,tipo_servicio:k.serviceType},e.next=5,Z.guardar(a);case 5:r=e.sent,console.log(r);try{r.ok&&N()}catch(t){_("error al crear la instalacion")}case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),z=function(e){u(I(I({},l),{},(0,r.Z)({},e.target.name,e.target.value)))},G=function(e){y(I(I({},x),{},(0,r.Z)({},e.target.name,e.target.value)))},W=function(e){w(I(I({},k),{},(0,r.Z)({},e.target.name,e.target.value)))};return(0,R.jsxs)(v.Z,{className:e.container,children:[(0,R.jsx)(f.Z,{variant:"h4",className:e.title,children:"Formulario de Contacto"}),(0,R.jsx)(E.F,{innerZ:9999,style:{zIndex:200},ref:O}),(0,R.jsx)(m.Z,{activeStep:a,alternativeLabel:!0,children:A.map((function(e,n){return(0,R.jsx)(g.Z,{children:(0,R.jsx)(h.Z,{StepIconProps:{style:{color:e.color}},children:e.label})},e.label)}))}),(0,R.jsxs)("form",{children:[function(e){switch(e){case 0:return(0,R.jsx)(c.Fragment,{children:(0,R.jsxs)(d.Z,{container:!0,spacing:2,children:[(0,R.jsx)(T,{name:"name",label:"Nombre",value:l.name,onChange:z,info:"Por favor ingresa tu nombre completo."}),(0,R.jsx)(T,{name:"nit",label:"NIT",value:l.nit,onChange:z,info:"Por favor ingresa tu n\xfamero de Identificaci\xf3n tributaria."}),(0,R.jsx)(T,{name:"email",label:"Correo electr\xf3nico",value:l.email,onChange:z,info:"Por favor ingresa tu direcci\xf3n de correo electr\xf3nico."}),(0,R.jsx)(T,{name:"activity",label:"Actividad Econ\xf3mica",value:l.activity,onChange:z,info:"Por favor ingresa tu actividad o profesi\xf3n."}),(0,R.jsx)(T,{name:"phone",label:"Tel\xe9fono",value:l.phone,onChange:z,info:"Por favor ingresa tu n\xfamero de tel\xe9fono."}),(0,R.jsx)(T,{name:"ncr",label:"N\xfamero de Control de Reporte (NCR)",value:l.ncr,onChange:z,info:"Por favor ingresa tu n\xfamero de NCR (si aplicable)."})]})});case 1:return(0,R.jsx)(c.Fragment,{children:(0,R.jsxs)(d.Z,{container:!0,spacing:2,children:[(0,R.jsx)(T,{name:"name",label:"Nombre",value:x.name,onChange:G,info:"Por favor ingresa tu nombre completo."}),(0,R.jsx)(T,{name:"nit",label:"NIT",value:x.nit,onChange:G,info:"Por favor ingresa tu n\xfamero de Identificaci\xf3n tributaria."}),(0,R.jsx)(T,{name:"email",label:"Correo electr\xf3nico",value:x.email,onChange:G,info:"Por favor ingresa tu direcci\xf3n de correo electr\xf3nico."}),(0,R.jsx)(T,{name:"activity",label:"Actividad Econ\xf3mica",value:x.activity,onChange:G,info:"Por favor ingresa tu actividad o profesi\xf3n."}),(0,R.jsx)(T,{name:"phone",label:"Tel\xe9fono",value:x.phone,onChange:G,info:"Por favor ingresa tu n\xfamero de tel\xe9fono."}),(0,R.jsx)(T,{name:"ncr",label:"N\xfamero de Control de Reporte (NCR)",value:x.ncr,onChange:G,info:"Por favor ingresa tu n\xfamero de NCR (si aplicable)."})]})});case 2:return(0,R.jsx)(c.Fragment,{children:(0,R.jsxs)(d.Z,{container:!0,spacing:2,children:[(0,R.jsx)(T,{name:"projectName",label:"Nombre del proyecto",value:k.projectName,onChange:W,info:"Por favor ingresa el nombre de tu proyecto."}),(0,R.jsx)(T,{name:"supplyVoltage",label:"Tensi\xf3n el\xe9ctrica del suministro",value:k.supplyVoltage,onChange:W,info:"Por favor ingresa la tensi\xf3n el\xe9ctrica del suministro."}),(0,R.jsx)(T,{name:"requestedLoad",label:"Carga a solicitar (kW \xf3 kVA)",value:k.requestedLoad,onChange:W,info:"Por favor ingresa la carga solicitada en kW o kVA."}),(0,R.jsx)(T,{name:"numberOfPanels",label:"N\xfamero de tableros",value:k.numberOfPanels,onChange:W,info:"Por favor ingresa el n\xfamero de tableros."}),(0,R.jsx)(T,{name:"numberOfPlanSheets",label:"N\xfamero de hojas de los planos",value:k.numberOfPlanSheets,onChange:W,info:"Por favor ingresa el n\xfamero de hojas de los planos."}),(0,R.jsx)(T,{name:"installationClassification",label:"Clasificaci\xf3n de la instalaci\xf3n",value:k.installationClassification,onChange:W,info:"Por favor ingresa la clasificaci\xf3n de la instalaci\xf3n."}),(0,R.jsx)(T,{name:"serviceType",label:"Tipo de servicio",value:k.serviceType,onChange:W,info:"Por favor ingresa el tipo de servicio."}),(0,R.jsx)(T,{name:"substationConnection",label:"Conexi\xf3n de la subestaci\xf3n",value:k.substationConnection,onChange:W,info:"Por favor ingresa la conexi\xf3n de la subestaci\xf3n."}),(0,R.jsx)(T,{name:"substationCapacity",label:"Capacidad de la subestaci\xf3n (kVA)",value:k.substationCapacity,onChange:W,info:"Por favor ingresa la capacidad de la subestaci\xf3n en kVA."}),(0,R.jsx)(T,{name:"emergencyGeneratorCapacity",label:"Capacidad del generador de emergencia (kVA)",value:k.emergencyGeneratorCapacity,onChange:W,info:"Por favor ingresa la capacidad del generador de emergencia en kVA."}),(0,R.jsx)(T,{name:"numberOfLevels",label:"N\xfamero de niveles",value:k.numberOfLevels,onChange:W,info:"Por favor ingresa el n\xfamero de niveles."}),(0,R.jsx)(T,{name:"numberOfServices",label:"N\xfamero de servicios a instalar",value:k.numberOfServices,onChange:W,info:"Por favor ingresa el n\xfamero de servicios a instalar."}),(0,R.jsx)(T,{name:"inspectionRequested",label:"Numero de transformadores",value:k.inspectionRequested,onChange:W,info:"Por favor describe la inspecci\xf3n que solicitas."})]})});default:return null}}(a),(0,R.jsxs)("div",{children:[a>0&&(0,R.jsx)(b.Z,{variant:"contained",className:e.backButton,onClick:function(){o((function(e){return e-1}))},children:"Atr\xe1s"}),a<A.length-1?(0,R.jsx)(b.Z,{variant:"contained",color:"primary",onClick:function(){o((function(e){return e+1}))},children:"Siguiente"}):(0,R.jsx)(b.Z,{variant:"contained",color:"primary",onClick:function(){F(),console.log("Datos enviados:",I({},l))},children:"Enviar"})]})]})]})}},45207:function(e,n,a){var r=a(50029),t=a(87794),o=a.n(t),i=a(9669).default,c={},s=function(e){for(var n=new FormData,a=Object.keys(e),r=0;r<a.length;r++)"files"!=a&&n.append("".concat(a[r]),e[a[r]]);for(var t=0;t<e.files.length;t++)console.log(e.files[t]),n.append("files",e.files[t]);return n};c.guardar=function(){var e=(0,r.Z)(o().mark((function e(n){var a,r,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"content-type":"multipart/form-data"}},r=s(n),console.log(r),e.next=6,i.post("".concat("http://137.184.125.192:3000","/cliente/crear"),r,a);case 6:return t=e.sent,e.abrupt("return",t.data);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}(),n.Z=c}}]);